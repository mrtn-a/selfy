<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
			integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
			crossorigin="anonymous"
		/>

		<link
			rel="stylesheet"
			href="https://use.fontawesome.com/releases/v5.0.10/css/all.css"
		/>
		<link rel="stylesheet" href="paypal-style.css" />

		<link
			rel="icon"
			href="https://d3jdaktv9qp9iu.cloudfront.net/uploads/whitelabels/550042834a316f7a6cd793e54e18419163bb09b6f3be5880881a3c0e7c88e37e.jpeg"
		/>
		<title>Add Funds | Selfy DSP</title>
		<meta
			name="description"
			content="Selfy DSP is a mobile DSP (mobile demand-side platform) to launch branding and performance mobile advertising campaigns on smartphones and tablets, using programmatic advertising technologies like Real-Time Bidding (RTB), with proprietary technology of bidding algorithms, retargeting and user profiling. Selfy DSP offers unique capabilities to target your audience, and optimize the performance of your campaigns."
		/>
	</head>
	<body>
		<!-- navbar -->
		<div class="header mobile--fixed">
			<div class="logo m-auto">
				<h4>
					<a href="https://portal.selfydsp.com/">
						<img
							src="https://d3jdaktv9qp9iu.cloudfront.net/uploads/whitelabels/e79fbcb32e3318d64a4f7840d9f94310cda867af1cc20cef725ff5e3580ff922.jpeg"
							alt="Selfy DSP"
					/></a>
				</h4>
			</div>
			<div class="list mobile--flex-end">
				<div class="list-items">
					<a href="https://portal.selfydsp.com/" id="link">
						<span class="icon">
							<svg
								enable-background="new 0 0 24 24"
								height="24"
								viewBox="0 0 24 24"
								width="24"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									id="color-change-el"
									d="m21 24h-18c-1.654 0-3-1.346-3-3v-8c0-.553.447-1 1-1s1 .447 1 1v8c0 .551.448 1 1 1h18c.552 0 1-.449 1-1v-14c0-.551-.448-1-1-1h-3c-.553 0-1-.447-1-1s.447-1 1-1h3c1.654 0 3 1.346 3 3v14c0 1.654-1.346 3-3 3z"
									fill="#494B74"
								/>
								<path
									d="m8.25 4h-.25v-3.25c0-.307-.186-.581-.47-.695-.283-.116-.609-.047-.82.175l-6.5 6.75c-.28.289-.28.75 0 1.039l6.5 6.75c.212.222.539.291.82.176.284-.114.47-.388.47-.695v-3.25h1.188c3.145 0 5.973 1.748 7.382 4.566l.013.024c.129.256.39.41.667.41l.175-.021c.338-.081.575-.382.575-.729v-1.5c0-5.376-4.374-9.75-9.75-9.75z"
									fill="#C9C9D6"
								/>
								<path
									id="color-change-el"
									d="m1 12c-.553 0-1 .447-1 1v8c0 1.654 1.346 3 3 3h9v-2h-9c-.552 0-1-.449-1-1v-8c0-.553-.447-1-1-1z"
									fill="#494B74"
								/>
								<path
									d="m7.273 0h-.049c-.191.006-.377.086-.514.23l-6.5 6.75c-.136.141-.206.322-.21.505v.03c.004.183.074.364.21.505l6.5 6.75c.144.15.341.23.541.23.094 0 .189-.018.28-.055.283-.114.469-.388.469-.695v-3.25h1.188c.979 0 1.928.169 2.812.488v-6.738c-1.155-.483-2.422-.75-3.75-.75h-.25v-3.25c0-.307-.186-.581-.47-.695-.083-.034-.17-.052-.257-.055z"
									fill="#C9C9D6"
								/>
							</svg>
						</span>
						<span class="link">Back to the portal</span></a
					>
				</div>
			</div>
		</div>

		<div class="nav-content">
			<div class="nav-text">
				<h1>Add funds</h1>
			</div>
		</div>
		<!-- main container -->
		<div class="wrapper">
			<div id="smart-button-container">
				<div style="text-align: center">
					<h5 class="pb-3 pt-3">Deposit funds to your Selfy DSP account</h5>
					<p class="pb-4">
						The minimum initial deposit amount is $200 USD. <br />
						Deposited funds do not expire and can be used to purchase traffic at
						any time.<br />
						Please note your account will be credited with the amount we receive
						after wire/Paypal fees. <br />
					</p>
				</div>
				<!-- PAYPAL SMART BUTTON -->
				<div style="text-align: center">
					<label for="description" class="pr-2">Name </label
					><input
						type="text"
						name="descriptionInput"
						id="description"
						maxlength="127"
						value=""
					/>
					<p
						id="descriptionError"
						style="visibility: hidden; color: #e76330; text-align: center"
					>
						Please enter a description
					</p>
					<label for="amount" class="pr-2 pl-3">Amount </label
					><input name="amountInput" type="number" id="amount" value="" /><span>
						USD</span
					>
					<p
						id="priceLabelError"
						style="visibility: hidden; color: #e76330; text-align: center"
					>
						Please enter a price
					</p>
				</div>
				<div id="invoiceidDiv" style="text-align: center; display: none">
					<label for="invoiceid"> </label
					><input
						name="invoiceid"
						maxlength="127"
						type="text"
						id="invoiceid"
						value=""
					/>
				</div>
				<p
					id="invoiceidError"
					style="visibility: hidden; color: #e76330; text-align: center"
				>
					Please enter an Invoice ID
				</p>
				<div
					style="text-align: center; margin-top: 0.625rem"
					id="paypal-button-container"
				></div>
			</div>
		</div>

		<!-- TODO: check the client-id -->
		<script
			src="https://www.paypal.com/sdk/js?client-id=AS4FBFoaWiWE-ikU0XY-4MQpO_UDK0CQ8fkyF3DnZ1xOBXLx8bZrtDg_44mx9vh1CZf7o-8sTF8AShx7
&currency=USD"
			data-sdk-integration-source="button-factory"
		></script>

		<script>
			function initPayPalButton() {
				var description = document.querySelector(
					"#smart-button-container #description"
				);
				var amount = document.querySelector("#smart-button-container #amount");
				var descriptionError = document.querySelector(
					"#smart-button-container #descriptionError"
				);
				var priceError = document.querySelector(
					"#smart-button-container #priceLabelError"
				);
				var invoiceid = document.querySelector(
					"#smart-button-container #invoiceid"
				);
				var invoiceidError = document.querySelector(
					"#smart-button-container #invoiceidError"
				);
				var invoiceidDiv = document.querySelector(
					"#smart-button-container #invoiceidDiv"
				);

				var elArr = [description, amount];

				var purchase_units = [];
				purchase_units[0] = {};
				purchase_units[0].amount = {};

				function validate(event) {
					return event.value.length > 0;
				}

				paypal
					.Buttons({
						style: {
							color: "blue",
							shape: "rect",
							label: "paypal",
							layout: "vertical",
						},

						onInit: function (data, actions) {
							actions.disable();

							if (invoiceidDiv.style.display === "block") {
								elArr.push(invoiceid);
							}

							elArr.forEach(function (item) {
								item.addEventListener("keyup", function (event) {
									var result = elArr.every(validate);
									if (result) {
										actions.enable();
									} else {
										actions.disable();
									}
								});
							});
						},

						onClick: function () {
							if (description.value.length < 1) {
								descriptionError.style.visibility = "visible";
							} else {
								descriptionError.style.visibility = "hidden";
							}

							if (amount.value.length < 1) {
								priceError.style.visibility = "visible";
							} else {
								priceError.style.visibility = "hidden";
							}

							if (
								invoiceid.value.length < 1 &&
								invoiceidDiv.style.display === "block"
							) {
								invoiceidError.style.visibility = "visible";
							} else {
								invoiceidError.style.visibility = "hidden";
							}

							purchase_units[0].description = description.value;
							purchase_units[0].amount.value = amount.value;

							if (invoiceid.value !== "") {
								purchase_units[0].invoice_id = invoiceid.value;
							}
						},

						createOrder: function (data, actions) {
							return actions.order.create({
								purchase_units: purchase_units,
							});
						},

						onApprove: function (data, actions) {
							return actions.order.capture().then(function (details) {
								alert(
									"Transaction completed by " +
										details.payer.name.given_name +
										"!"
								);
							});
						},

						onError: function (err) {
							console.log(err);
						},
					})
					.render("#paypal-button-container");
			}
			initPayPalButton();
		</script>

		<!-- fill svg on linkhover -->
		<script>
			const btnLink = document.getElementById("link");
			const svgEl = document.querySelectorAll("#color-change-el");

			function colorChange() {
				svgEl.forEach((el) => el.classList.add("color-change"));
			}

			function colorChangeBack() {
				svgEl.forEach((el) => el.classList.remove("color-change"));
			}

			btnLink.addEventListener("mouseover", colorChange);
			btnLink.addEventListener("mouseout", colorChangeBack);
		</script>
	</body>
</html>
